# 作业查看器系统

基于Python tkinter和socket的局域网作业管理系统，支持师生实时通信、作业分发和留言互动。

## 功能特点

### 老师端功能
- **服务器管理**: 启动/停止局域网服务器
- **学科选择**: 支持语文、数学、英语、物理、化学等9大学科
- **作业发送**: 选择班级发送作业，所有学生端实时接收
- **作业管理**: 查看、删除作业，统计功能
- **留言监控**: 查看学生留言和反馈

### 学生端功能
- **连接服务器**: 输入服务器IP连接老师端
- **班级选择**: 选择对应班级查看相关作业
- **作业查看**: 实时接收老师发送的作业
- **学科筛选**: 按学科筛选作业内容
- **留言功能**: 向老师发送留言和反馈
- **作业公示**: 屏幕显示所有作业内容

### 系统特色
- **局域网通信**: 基于socket的实时数据传输
- **数据持久化**: JSON格式存储，数据不丢失
- **多线程设计**: 网络通信和界面操作互不干扰
- **用户友好**: 图形化界面，操作简单直观

## 系统要求

- Python 3.7 或更高版本
- Windows/Linux/macOS操作系统
- 局域网环境（同一网段内的设备）

## 项目结构

```
homework_viewer/
├── launcher.py           # 启动器程序
├── communication.py      # 网络通信模块
├── data_manager.py       # 数据存储模块
├── requirements.txt      # 依赖文件
├── README.md            # 项目说明
├── student/             # 学生端目录
│   └── student_gui.py   # 学生端界面
└── teacher/             # 老师端目录
    └── teacher_gui.py   # 老师端界面
```

## 安装和使用

### 1. 运行启动器（推荐）

```bash
python launcher.py
```

通过启动器界面选择启动老师端或学生端。

### 2. 单独运行

#### 运行老师端
```bash
cd homework_viewer
python teacher/teacher_gui.py
```

#### 运行学生端
```bash
cd homework_viewer
python student/student_gui.py
```

## 使用步骤

### 老师端使用流程

1. **启动服务器**
   - 输入老师姓名
   - 设置端口号（默认8888）
   - 点击"启动服务器"

2. **发送作业**
   - 选择学科（语文、数学、英语等）
   - 选择班级
   - 输入作业内容
   - 点击"发送作业"

3. **管理功能**
   - 查看所有作业列表
   - 删除不需要的作业
   - 清空所有数据
   - 查看统计信息

### 学生端使用流程

1. **连接服务器**
   - 输入服务器IP（老师端所在电脑IP）
   - 输入学生姓名
   - 点击"连接服务器"

2. **查看作业**
   - 选择对应班级
   - 选择学科筛选（可选）
   - 查看作业列表

3. **发送留言**
   - 在留言板输入框输入内容
   - 点击"发送留言"或按回车键

## 网络配置

### 局域网设置
- 确保老师端和学生端在同一局域网内
- 老师端电脑IP地址作为服务器地址
- 默认端口：8888，可在老师端修改

### 防火墙设置
- 在老师端电脑防火墙中添加Python程序
- 允许端口8888的入站连接

### IP地址查找
**Windows系统:**
```cmd
ipconfig
```

**Linux/Mac系统:**
```bash
ifconfig
```

## 数据文件

系统运行后会在相应目录生成数据文件：
- `teacher_data.json` - 老师端数据文件
- `student_data.json` - 学生端数据文件

数据文件包含：
- 作业记录
- 学生留言
- 班级信息
- 学科配置

## EXE打包

### 方法一：一键打包（推荐）

1. 双击运行 `一键打包.bat`
2. 等待安装依赖和完成打包
3. 打包完成后，在 `dist` 目录下找到 `作业查看器系统.exe`

### 方法二：手动打包

1. 安装依赖：
```bash
pip install pyinstaller
```

2. 运行打包脚本：
```bash
python build_exe.py
```

### 打包输出

- **exe文件位置**: `dist/作业查看器系统.exe`
- **便携版包**: `作业查看器系统_便携版/` 目录

### 便携版特点

- 无需安装Python环境
- 可以复制到其他Windows电脑直接运行
- 包含使用说明和数据文件
- 首次运行可能需要防火墙允许

## 常见问题

### Q: 学生端连接失败？
A: 请检查：
1. 老师端是否已启动服务器
2. IP地址是否正确
3. 防火墙是否允许连接
4. 端口是否被占用

### Q: 作业发送后学生看不到？
A: 请确认：
1. 学生端是否已连接服务器
2. 学生选择的班级是否匹配
3. 网络连接是否正常

### Q: 留言发送失败？
A: 请检查：
1. 学生端是否已连接服务器
2. 学生姓名是否已设置
3. 网络连接状态

### Q: 程序无法启动？
A: 请确认：
1. Python版本是否为3.7+
2. tkinter模块是否可用
3. 是否有权限运行程序

## 技术实现

### 网络通信
- 使用socket实现TCP连接
- JSON格式传输数据
- 多线程处理并发连接
- 心跳机制保持连接

### 数据存储
- JSON格式持久化存储
- 原子性操作防止数据损坏
- 自动备份和恢复机制

### 用户界面
- tkinter原生GUI框架
- 响应式布局设计
- 事件驱动编程模式

## 扩展功能

未来可以添加的功能：
- 用户权限管理
- 文件传输支持
- 在线考试系统
- 成绩统计分析
- 移动端适配

## 许可证

本项目为教育用途开发，遵循MIT许可证。

## 技术支持

如有问题或建议，请联系开发者。

## 更新日志

### v1.0 (2024-11-18)
- 初始版本发布
- 基本的师生通信功能
- 作业发送和查看
- 留言板功能
- 数据持久化存储